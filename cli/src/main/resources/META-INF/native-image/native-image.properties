# GraalVM Native Image configuration for Quantum Simulator CLI
# Target: 80-150 MB image size

Args = --no-fallback \
       --enable-preview \
       --enable-monitoring \
       --add-modules=jdk.incubator.vector \
       -H:+UnlockExperimentalVMOptions \
       -H:+ReportExceptionStackTraces \
       -H:+PrintClassInitialization \
       -H:+VectorAPISupport \
       --initialize-at-build-time=org.slf4j \
       --initialize-at-build-time=ch.qos.logback \
       --initialize-at-run-time=com.omaarr90.core.math.ComplexArray \
       --initialize-at-run-time=jdk.incubator.vector \
       --initialize-at-build-time=com.omaarr90.core.engine.SimulatorEngineRegistry \
       --initialize-at-build-time=org.antlr.v4.runtime \
       -H:+UseCompressedReferences \
       -H:+RemoveUnusedSymbols \
       -H:+DeleteLocalSymbols \
       -H:+ReportUnsupportedElementsAtRuntime \
       -H:IncludeResources=".*\.g4$" \
       -H:IncludeResources=".*\.tokens$" \
       -H:IncludeResources=".*\.interp$" \
       -H:IncludeResources="META-INF/services/.*"